{"version":3,"sources":["services/api.js","pages/Dashboard/style.js","pages/Dashboard/index.js","routes/index.js","styles/global.js","App.js","index.js"],"names":["api","axios","create","baseURL","Container","styled","div","Content","Form","form","props","hasError","css","shade","Messages","User","Watson","Dashboard","span","useState","inputError","setInputError","message","setMessage","chat","setChat","a","get","event","preventDefault","messagesUser","push","who","post","response","responseMessage","data","messagesWatson","parsed","DOMParser","msg","parseFromString","body","innerHTML","replaceAll","msg2","useEffect","document","getElementById","scrollTop","Number","MAX_SAFE_INTEGER","style","display","flexDirection","width","maxHeight","overflow","alignSelf","position","bottom","id","Array","isArray","length","slice","map","item","index","key","dangerouslySetInnerHTML","__html","onSubmit","value","onChange","e","target","placeholder","type","marginLeft","lineHeight","paddingRight","onClick","EncerraSession","align","Routes","path","component","createGlobalStyle","App","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.96227840.chunk.js","sourcesContent":["import axios from 'axios';\r\n\r\nconst api =  axios.create({\r\n  // baseURL: 'http://localhost:3333',\r\n  baseURL: 'https://chatbotprojetofaculdade.azurewebsites.net/',\r\n});\r\n\r\n\r\nexport default api;\r\n","import styled, {css} from 'styled-components';\r\nimport {shade} from 'polished';\r\n\r\nexport const Container = styled.div`\r\n  height: 95vh;\r\n  flex-direction: column;\r\n  display: flex;\r\n`;\r\n\r\nexport const Content = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  height: 95vh;\r\n  max-width: 1700px;\r\n`;\r\n\r\n\r\n\r\nexport const Form = styled.form`\r\nmargin-top:20px;\r\n  max-width: 650px;  \r\n  display:flex;\r\n  align-self: flex-end;\r\n\r\n  input{\r\n    flex:1;\r\n    height: 66px;\r\n    padding: 0 24px;\r\n    border: 0;\r\n    border-radius: 5px 0 0 5px;\r\n    color: #3A3A3A;\r\n    border: 2px solid #ADADAD;\r\n    border-right: 0;\r\n    width: 550px;\r\n\r\n    ${(props) => props.hasError && css`\r\n      border-color: #c53030;\r\n    `}\r\n\r\n    &::placeholder{\r\n      color: #a8a8b3;\r\n    }\r\n  }\r\n\r\n  button{\r\n    width: 210px;\r\n    height: 70px;\r\n    background: #04D361;\r\n    border-radius: 0px 5px 5px 0px;\r\n    border: 0;\r\n    color: #FFF;\r\n    font-weight: bold;\r\n    transition: background-color 0.2s;\r\n\r\n    &:hover{\r\n      background: ${shade(0.2,'#04D361' )}\r\n    }\r\n  }\r\n\r\n`;\r\n\r\nexport const Messages = styled.div`\r\n\r\n  margin-top:10px;\r\n  \r\n  flex:1;\r\n  margin-left: 21px;\r\n  height: auto;\r\n  width:550px;\r\n  border-radius: 5px 5px 5px 5px;\r\n  color: #3A3A3A;\r\n  padding: 24px 24px;\r\n`;\r\n\r\nexport const User = styled(Messages)`\r\n  background: #04D361;\r\n  color: #000;\r\n  text-align: end;\r\n  \r\n`;\r\n\r\nexport const Watson = styled(Messages)`\r\n  background: #056CF2;\r\n  color: #000;\r\n`;\r\n\r\nexport const Error = styled.span`\r\n  display: block;\r\n  color: #c53030;\r\n  margin-top: 8px;\r\n`;","import React, {useEffect, useState} from 'react';\r\nimport api from '../../services/api';\r\n\r\nimport {Form, User, Watson, Container, Content} from './style';\r\n\r\n\r\nconst Dashboard = () => {\r\n  const [inputError, setInputError] = useState('');\r\n  const[message, setMessage] = useState('');\r\n  const [chat, setChat] = useState([]);\r\n  const [enabledButtom, setEnabledButtom] = useState(true);\r\n\r\n  useEffect(() => {scrollWin()}, [chat])\r\n  function scrollWin() {\r\n    var elmnt = document.getElementById(\"A\");\r\n    elmnt.scrollTop = Number.MAX_SAFE_INTEGER\r\n    \r\n  }\r\n\r\n  async function EncerraSession(){\r\n    setChat([])\r\n    setMessage('')\r\n    await api.get('/kill-session')    \r\n  }\r\n\r\n  async function handleSendMessage(event){\r\n    event.preventDefault();\r\n    try{ \r\n      const messagesUser = chat;\r\n      messagesUser.push({message: message, who: 'user'})\r\n      setChat([...chat, messagesUser]);      \r\n      const response = await api.post('/', {message: message});\r\n      const responseMessage = response.data;\r\n      const messagesWatson = chat;      \r\n      let parsed = new DOMParser();\r\n      let msg = parsed.parseFromString(responseMessage, \"text/html\").body.innerHTML.replaceAll('<br>','<br/>');\r\n      let msg2 = msg.replaceAll(\"\\\\n\", '<br/>')\r\n      messagesWatson.push({message:msg2, who: 'watson'})\r\n      setChat([...chat, messagesWatson]);\r\n      setMessage('');\r\n      setInputError('');\r\n    }catch(err){\r\n      setInputError('Erro!');\r\n    }    \r\n  }\r\n  return (\r\n    <Container>\r\n    <Content>\r\n      <div style={{display:'flex',flexDirection:'column',width:'48%', maxHeight: '650px', overflow: 'auto', alignSelf:'flex-end', position:'absolute', bottom:23}}>\r\n        <div id=\"A\" style={{display:'flex',flexDirection:'column', maxHeight: '530px', overflow: 'auto', width:'auto'}}>\r\n          {\r\n           chat && Array.isArray(chat[chat.length-1]) ? chat.slice(chat.length-1, 1) : \"\"\r\n          }\r\n          {chat.map((item, index) => (\r\n            item.who === 'user'\r\n            ? <User key={index} > {item.message} </User> \r\n          : Array.isArray(item) ? \"\" : <Watson key={index}><div key={index} dangerouslySetInnerHTML={{__html:item.message}}/></Watson>\r\n          ))}\r\n        </div>\r\n        <Form hasError={!! inputError} onSubmit={handleSendMessage}>\r\n          <input\r\n            id=\"inputMessage\"\r\n            value={message}\r\n            onChange={(e ) => setMessage(e.target.value)}\r\n            placeholder=\"Escreva uma mensagem\"         \r\n           />\r\n          <button type=\"submit\" >Enviar</button>\r\n        </Form>\r\n      </div>\r\n      \r\n      <div style={{display:'flex', flexDirection:'column',width:'48%', marginLeft:'20px', maxHeight: '655px'}}>\r\n      <h1>\r\n        Consultor Tecnológico Watson Assistent\r\n      </h1>\r\n      <h4 style={{lineHeight: 1.5, overflow: 'auto', maxHeight: '550px', paddingRight:'10px'}}>\r\n      <button type=\"button\" onClick={() => EncerraSession()} >Encerrar sessão</button>\r\n      <p align=\"justify\">Cras ut urna laoreet orci gravida maximus. Phasellus venenatis dapibus lobortis. Fusce efficitur pharetra aliquet. Morbi consequat tortor eros, gravida commodo erat dapibus pretium. Sed lacinia nec purus sed tempus. Donec at porttitor velit, lobortis fermentum velit. Phasellus turpis nisl, auctor in lobortis vitae, rhoncus lacinia sem. Nunc dolor sapien, varius quis malesuada quis, vestibulum ac tellus.</p>\r\n      <p align=\"justify\">Sed at mi in ex feugiat tristique. Morbi id congue nulla. Praesent eleifend tincidunt purus a laoreet. Vivamus a lorem nisl. Sed mollis feugiat diam ac gravida. Vivamus sit amet dolor odio. Etiam auctor, lorem eget accumsan accumsan, sapien lectus scelerisque risus, nec consequat orci turpis et purus. Donec sollicitudin posuere arcu, quis faucibus sapien bibendum sit amet. Proin dui purus, volutpat vitae consectetur a, finibus non quam. Integer laoreet, nulla eget sodales bibendum, tortor arcu ornare eros, id rhoncus mi mauris in lacus. Ut ultricies erat non tortor ultrices tempor. Aliquam tempor vitae metus lobortis fringilla. Nam sed convallis mi, at faucibus urna. Cras et ullamcorper dui, sed vehicula tellus.</p>\r\n\r\n      </h4>\r\n      </div>\r\n      \r\n      \r\n      </Content>\r\n    </Container>\r\n  );\r\n}\r\n\r\nexport default Dashboard;\r\n","import React from 'react';\r\nimport {Switch, Route} from 'react-router-dom';\r\n\r\nimport Dashboard from '../pages/Dashboard/index';\r\n\r\nconst Routes = () => (\r\n  <Switch>\r\n    <Route path=\"/\" component={Dashboard}/>\r\n  </Switch>\r\n)\r\n\r\nexport default Routes;","import {createGlobalStyle} from 'styled-components';\r\nexport default createGlobalStyle`\r\n\r\n  body{\r\n    -webkit-font-smoothing: antialiased;\r\n  }\r\n  body, input, button{\r\n    font: 16px Roboto, sans-serif; \r\n  }\r\n  button{\r\n    cursor:pointer;\r\n  }\r\n`;","import React from 'react';\r\nimport { BrowserRouter} from 'react-router-dom';\r\n\r\nimport Routes from './routes/index';\r\nimport GlobalStyle from './styles/global';\r\n\r\nconst App = () => (\r\n  <>\r\n    <BrowserRouter>\r\n      <Routes/>\r\n    </BrowserRouter>\r\n    <GlobalStyle/>\r\n  </>\r\n);\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);"],"sourceRoot":""}